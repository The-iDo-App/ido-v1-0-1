if (self.CavalryLogger) { CavalryLogger.start_js(["bIWM0Ze"]); }

__d("LSContactGenderToGenderConst.bs",["GenderConst","LSContactGender.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").female))return b("GenderConst").FEMALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").male))return b("GenderConst").MALE_SINGULAR;else if(b("bs_caml").i64_eq(a,b("LSContactGender.bs").neuter))return b("GenderConst").NEUTER_SINGULAR;else return b("GenderConst").NOT_A_PERSON}f.make=a}),null);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=a.dataSource;a=i(!1);var c=a[0],d=a[1];a=h(function(a){a=a.requestParams;b.fetchNetwork(a,d)},[b]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:1846070","react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,k]);i(function(){var a=e.subscribe(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:1846070")&&b("cr:1846070")(["all"],a)});return a},[e,o]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useCometTypeaheadSubscriptionDataSourceFetchResolver")(a,d);b=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]),g=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]),k=a.dataSource;i(function(){return function(){k.unsubscribe()}},[k]);return[{isLoading:b,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,g]}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadFetchContext","orEmptyArray","react","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadSubscriptionDataSourceFetch","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useCometTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){a=a.entries;var d=b.isTraceComplete;b=b.source;l(c("orEmptyArray")(a));m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a,b){var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,j=g===void 0?[]:g;g=a.emptyEntries_DO_NOT_USE;var k=a.id,l=a.isDisabled;l=l===void 0?!1:l;var m=a.label;m=m===void 0?"":m;var n=a.loggingContext,o=a.onAddToken;o=o===void 0?c("emptyFunction"):o;var p=a.onBlur;p=p===void 0?c("emptyFunction"):p;var q=a.onChangeTokens,r=a.onClose,s=a.onEscape;s=s===void 0?c("emptyFunction"):s;var t=a.onFocus;t=t===void 0?c("emptyFunction"):t;var u=a.onOpen,v=a.onRemoveToken;v=v===void 0?c("emptyFunction"):v;var w=a.onSearchCompletion;w=w===void 0?c("emptyFunction"):w;var x=a.placeholder;x=x===void 0?"":x;var y=a.testid;y=y===void 0?"":y;y=a.tokensStrategyRenderer;var z=a.tokens,A=a.viewRole;A=A===void 0?"listbox":A;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var B=c("useCometUniqueID")(),C=c("useStable")(function(){var a=c("CometTokenizerInternal.react");j.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});m=m||x;return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:g,onClose:r,onOpen:u,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:n,children:h.jsx(C,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:i,id:(g=k)!=null?g:B,isDisabled:l,label:m,onBackspace:c("emptyFunction"),onBlur:p,onChangeEntries:q,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:s,onFocus:t,onHighlightEntry:c("emptyFunction"),onPressEntry:o,onRemoveEntry:v,onSearchCompletion:w,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:x,ref:b,selectedEntries:z,testid:void 0,tokensStrategyRenderer:y,viewRole:A}))})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"rj84mg9z"},input:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",boxSizing:"rq0escxv",color:"oo9gr5id",display:"nc684nl6",fontSize:"jagab5yi",fontWeight:"knj5qynh",lineHeight:"fo6rh5oj",marginTop:"aov4n071",marginEnd:"oi9244e8",marginBottom:"bi6gxh9e",marginStart:"h676nmdw",maxWidth:"d2edcug0",outline:"lzcic4wl",resize:"ieid39z1"},root:{cursor:"o6r2urh6",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid"]),q=(o=e)!=null?o:c("useCometUniqueID")(),r=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:c("stylex")(i.root,l===!0&&i.disabled),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,p,{autoComplete:"off",className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:q,onChange:r,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"osnr6wyh"}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._(/*FBT_CALL*/"Search by name or group"/*FBT_CALL*/)})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometTypeaheadSubscriptionDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.subscribe=function(a){return this.$2(a)};b.fetchNetwork=function(a,b){};b.publish=function(a){Array.from(this.$1).forEach(function(b){b(a)})};b.$2=function(a){var b=this;this.$1.add(a);return function(){b.$1["delete"](a)}};b.unsubscribe=function(){this.$1.clear()};return a}();f["default"]=a}),66);
__d("mwStaticSearchEntries",["CometTypeaheadDataEntry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(c("CometTypeaheadDataEntry"))({key:a,label:'Search messages for "'+a+'"',rawData:{displayName:'Search messages for "'+a+'"',id:a,imageUrl:"",isContact:!1,isE2e:!1,resultType:"messages",secondaryImageUrl:"",subtext:""}})}g.createMessageSearchEntry=a}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["CometTypeaheadSubscriptionDataSource","FBLogger","MWChatSearchIssueLightspeedQuery.re","MWLSSearchIssueSearchQuerySupportedTypes.re","cr:10864","createMWChatSearchTypeaheadDataEntry","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded","mwStaticSearchEntries","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var d,e=b.database,f=b.excludedIDs;f=f===void 0?[]:f;var g=b.lightspeedSupportedTypes;g=g===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:g;var h=b.source;h=h===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:h;var i=b.includeRecommendations;i=i===void 0?!0:i;b=b.includeThreadSearch;b=b===void 0?!1:b;d=a.call(this)||this;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){};d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=f;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3=g;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4=h;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5=e;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7=i;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8=b;return d}var f=e.prototype;f.unsubscribe=function(){a.prototype.unsubscribe.call(this),this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6()};f.fetchNetwork=function(a,d){var e=this;this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6();if(a.query.length===0&&!this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7)return this.publish({entries:[],params:a});d(!0);if(a.query.length===0){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestRecommendations(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,b),d(!1)});return}var f=[],g=[],h=!1;b("cr:10864")&&c("promiseDone")(b("cr:10864").fetchResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a).then(function(b){h||(f=b,e.onData(a,f.concat(g)))})["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}));var i=c("MWChatSearchIssueLightspeedQuery.re").requestResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){g=b,e.onData(a,f.concat(g)),d(!1)});this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){i(),h=!0}};f.onData=function(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);var e=[],f=new Set();for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=b.length)break;i=b[h++]}else{h=b.next();if(h.done)break;i=h.value}i=i;f.has(i.getKey())||(e.push(i),f.add(i.getKey()))}i={entries:e,params:a};h=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1);g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2);this.publish(g(h(i)))};f.setExcludedIds=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=a};f.setTokens=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=a};return e}(c("CometTypeaheadSubscriptionDataSource"));g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,m=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,n=i(function(a){return l||(k?k(a):!1)||m&&a.getRawData().isInstagramAccount},[k,l,m]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:n(b),key:b.getKey(),role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ReStore.re",["ReStore.bs"],(function(a,b,c,d,e,f){c=(a=b("ReStore.bs")).toGenericStorage;f.toGenericStorage=c;d=a.Provider.make;f.Provider_make=d;e=a.useHook;f.useHook=e;b=a.Provider;f.Provider=b}),null);
__d("withMWChatEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return h.forwardRef(function(b,d){var e=b.onChange,f=b.onEscape,g=b.queryString,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var k=i(function(){g!==""?e(""):j.length===0&&(c&&c()),f&&f()},[g,j.length,f,e]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:e,onEscape:k,queryString:g,ref:d,selectedEntries:j}))})}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","orEmptyArray","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var d=b.dataSource;return h.forwardRef(function(b,e){var f=b.onChangeEntries,g=b.onPressEntry,k=b.onRemoveEntry,l=b.onSearchCompletion,m=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);j(function(){return d.setTokens(m)},[]);var n=i(function(a){var b=a.getRawData();b=b.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(m,[a]);d.setTokens(b);f(b)}g&&g(a)},[f,g,m]),o=i(function(a){var b=c("orEmptyArray")(m).filter(function(b){return b.getKey()!==a.getKey()});f(b);d!=null&&d.setTokens(b);k&&k(a)},[f,k,m]),p=i(function(){d.setTokens([]),l&&l()},[l]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:f,onPressEntry:n,onRemoveEntry:o,onSearchCompletion:p,ref:e,selectedEntries:m}))})}g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating.re","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes.re","ReStore.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,m=g===void 0?!0:g;g=a.isDisabled;var n=a.layoutStategyRenderer,o=a.onAddToken,p=a.onChangeTokens,q=a.onSearchAbandon,r=a.onSearchCompletion,s=a.tokenItemRenderer,t=a.tokens;a=a.xstyles;var u=l(""),v=u[0];u=u[1];var w=d("ReStore.re").useHook(),x=c("useStable")(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:w,excludedIDs:b,includeRecommendations:m,lightspeedSupportedTypes:c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})});q=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:q}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:x}}});var y=k(null),z=y.current;i(function(){z&&z.focus()},[z,t]);i(function(){x.setTokens(t)},[x,t]);i(function(){x.setExcludedIds(b||[])},[x,b]);s=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:s});var A=j(function(){return{getIsViewItemDisabled:f}},[f]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:x,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:q,extraLayoutProps:e,extraViewProps:A,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:n,loggingContext:"messenger_chat",onAddToken:o,onChange:u,onChangeTokens:p,onSearchCompletion:r,queryString:v,ref:y,testid:void 0,tokens:t,tokensStrategyRenderer:s,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatLightSpeedSearchTypeahead.react");f.make=a}),null);
__d("MWInteropTokenUtils.bs",["gkx"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.getRawData().isInstagramAccount===!0}function h(a){return a.getRawData().isInteropEligible===!0}function i(a){if(b("gkx")("2605"))return a.getRawData().isGroupsXacEligible===!0;else return!1}function a(a){if(g(a))if(h(a))return!i(a);else return!0;else return!1}f.isInterop=g;f.isInteropEligible=h;f.isGxacEligible=i;f.isInteropWithoutGxacSupport=a}),null);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["MWInteropTokenUtils.bs","bs_curry","cr:12304","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:12304")==null?function(a,b){return[!1,!1]}:b("cr:12304").useHookForNewThread;function a(a,c){var d=h.useMemo(function(){return[a.some(b("MWInteropTokenUtils.bs").isInterop),a.some(function(a){return!b("MWInteropTokenUtils.bs").isGxacEligible(a)})]},[a]),e=d[1],f=d[0];d=b("bs_curry")._2(i,a,c);var g=d[1],j=d[0];return h.useCallback(function(a){var d=b("MWInteropTokenUtils.bs").isInterop(a),h=!b("MWInteropTokenUtils.bs").isGxacEligible(a);a=!b("MWInteropTokenUtils.bs").isInteropEligible(a);if(j||d&&g||d&&c||e&&d||f&&h)return!0;else if(d)return a;else return!1},[f,e,c,j,g])}f.$MWUseHasGroupLimitBeenReached$OR$null$requireCond=b("cr:12304");f.useIsDisabled=a}),null);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatSearchTypeaheadCallbacks",["MessengerWebEventsFalcoEvent","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;a=function(a,b){var d=h(function(b){var d=b.some(function(a){return Boolean(a.getRawData().isInstagramAccount)});(!d||c("gkx")("2605"))&&a(b)},[a]),e=h(function(a){a=a.getRawData();var d=a.id,e=a.isInstagramAccount;a=a.resultType;switch(a){case"user":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:d}});Boolean(e)&&!c("gkx")("2605")&&b(d,!1);return;case"group":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:d}});return b(d,!1);case"page":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:d}});return b(d,!1)}},[b]);return[d,e]};g.useMWChatSearchTypeaheadCallbacks=a}),98);
__d("MWV2IsTabFocusedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){var b=a.children;a=a.isFocused;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("MWV2ErrorComposer.bs",["fbt","MDSText.react","MDSTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"s90ymo97",paddingStart:"geeej9ta",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{meta:j.jsx(b("MDSText.react"),{type:"meta3",numberOfLines:2,children:g._(/*FBT_CALL*/"This may be because of a technical error we're working to fix."/*FBT_CALL*/)}),headline:g._(/*FBT_CALL*/"Something isn't working."/*FBT_CALL*/),level:4,textAlign:"center",reduceEmphasis:!0,headlineColor:"secondary"})})}c=a;f.styles=k;f.make=c}),null);
__d("MWPParticipantsAndContactsForThread.bs",["ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),b("ReQLTable").table(c,"contacts").asc)},[c,JSON.stringify(a.a)]))}f.useValue=a}),null);
__d("MercuryFilters.bs",[],(function(a,b,c,d,e,f){"use strict";var g="unread";function a(a){return[g]}function b(a){return a===g}c="all";d="groups";e="named";var h="unnamed",i="WORK_UNSYNCED_CHAT";f.all=c;f.unread=g;f.groups=d;f.named=e;f.unnamed=h;f.unsyncedChat=i;f.getSupportedFilters=a;f.isSupportedFilter=b}),null);
__d("LSNullstateDescriptionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.default_=a;f.subtext=c;f.titleSmallDefault=d;f.titleSmallSubtext=e}),null);
__d("LSThreadMediaGalleryGroup.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.photosAndVideos=a;f.filesOnly=c;f.links=d}),null);
__d("OutlineSelectionHelpers",["cr:1967616"],(function(a,b,c,d,e,f){e.exports=b("cr:1967616")}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("OutlineSelectionHelpers.prod",["Outline","OutlineHashtagNode"],(function $module_OutlineSelectionHelpers_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(a){throw Error("Minified Outline error #"+a+"; see codes.json for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}function u(a){return a.isImmutable()||a.isInert();}var w=new Map();
function x(a){a=a.getLatest();var b=a.constructor.clone(a);b.__flags=a.__flags;b.__parent=a.__parent;require("Outline").isBlockNode(a)?(b.__children=Array.from(a.__children),b.__format=a.__format,b.__indent=a.__indent):require("Outline").isTextNode(a)&&(b.__format=a.__format,b.__style=a.__style);return b;}
function y(a,b,c,d,g){for(var e=b;null!==a;){for(b=a.getParent();null!==b&&b.excludeFromCopy();){b=b.getParent();}if(null===b)break;if(!require("Outline").isBlockNode(a)||!a.excludeFromCopy()){var k=a.getKey();var h=g.get(k);var f=void 0===h;f&&(h=x(a),g.set(k,h));!require("Outline").isTextNode(h)||h.isSegmented()||h.isImmutable()?require("Outline").isBlockNode(h)&&(h.__children=h.__children.slice(c?e:0,c?void 0:e+1)):h.__text=h.__text.slice(c?e:0,c?void 0:e);if(require("Outline").isRootNode(b)){f&&d.push(k);break;}}e=g.get(b.getKey());e=require("Outline").isBlockNode(e)?e.__children.indexOf(a.getKey()):
a.getIndexWithinParent();a=b;}}function z(a){return w.get(a)||null;}function A(a,b){var c=z(a.getStyle());b=c?babelHelpers["extends"]({},c,b):b;c="";for(d in b){d&&(c+=d+": "+b[d]+";");}var d=c;a.setStyle(d);w.set(d,b);}function B(a,b){var c=a.anchor;a=a.focus;var d=c.getNode(),g=a.getNode();if(d===g&&"text"===c.type&&"text"===a.type){var e=c.offset,k=a.offset;var h=e<k;g=h?e:k;k=h?k:e;e=k-1;g!==e&&(d=d.getTextContent().slice(g,k),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(d)||(b?a.offset=e:c.offset=e));}}
function D(a){var b=a.anchor;if("text"===b.type){b=b.getNode();var c=b.getTextContent();a=a.anchor.offset;if(0===a&&b.isSimpleText()){if(a=b.getPreviousSibling(),require("Outline").isTextNode(a)&&require("OutlineHashtagNode").isHashtagNode(a)){a.select();var d=a.getTextContent();a.setTextContent(d+c);b.remove();}}else require("OutlineHashtagNode").isHashtagNode(b)&&a===b.getTextContentSize()&&(a=b.getNextSibling(),require("Outline").isTextNode(a)&&a.isSimpleText()&&(d=a.getTextContent(),b.setTextContent(c+d),a.remove()));}}
function E(a,b){if(a.isCollapsed()){F(a,b,"character",!1);var c=a.anchor,d=a.focus;if(!a.isCollapsed()){var g="text"===d.type?d.getNode():null,e="text"===c.type?c.getNode():null;if(null!==g&&g.isSegmented()){if(c=d.offset,d=g.getTextContentSize(),g.is(e)||b&&c!==d||!b&&0!==c){G(g,b);return;}}else if(null!==e&&e.isSegmented()&&(c=c.offset,d=e.getTextContentSize(),e.is(g)||b&&0!==c||!b&&c!==d)){G(e,b);return;}B(a,b);}else if(b&&0===c.offset&&("block"===c.type?c.getNode():c.getNode().getParentOrThrow()).collapseAtStart(a))return;}H(a);
D(a);}function G(a,b){var c=a.getTextContent().split(/\s/g);b?c.pop():c.shift();c=c.join(" ");""===c?a.remove():(a=a.setTextContent(c),b?a.select():a.select(0,0));}
function F(a,b,c,d){var g=window.getSelection();var e=a.focus,k=a.anchor;var h=e.offset;if("block"===e.type)h=e.getNode().getChildAtIndex(b?h-1:h);else{var f=e.getNode();h=b&&0===h||!b&&h===f.getTextContentSize()?b?f.getPreviousSibling():f.getNextSibling():null;}if(require("Outline").isDecoratorNode(h)&&(f=b?h.getPreviousSibling():h.getNextSibling(),!require("Outline").isTextNode(f))){a=h.getParentOrThrow().getKey();g=h.getIndexWithinParent();b||g++;e.set(a,g,"block");d&&k.set(a,g,"block");return;}g.modify(d?"move":"extend",b?"backward":
"forward",c);0<g.rangeCount&&(b=g.getRangeAt(0),a.applyDOMRange(b),d||g.anchorNode===b.startContainer&&g.anchorOffset===b.startOffset||a.swapPoints());}function H(a){I(a,"");}function J(a,b){var c=require("Outline").createLineBreakNode();b?K(a,[c],!0):K(a,[c])&&c.selectNext(0,0);}
function K(a,b,c){var _d;a.isCollapsed()||H(a);var d=a.anchor,g=d.offset,e=d.getNode();a=e;"block"===d.type&&(a=d.getNode(),d=a.getChildAtIndex(g-1),a=null===d?a:d);d=[];var k=e.getNextSiblings(),h=e.getTopParentBlockOrThrow();if(require("Outline").isTextNode(e))if(a=e.getTextContent().length,0===g&&0!==a)a=e.getPreviousSibling(),a=null!==a?a:e.getParentOrThrow(),d.push(e);else if(g===a)a=e;else{if(u(e))return!1;var _e$splitText=e.splitText(g);a=_e$splitText[0];e=_e$splitText[1];d.push(e);}e=a;(_d=d).push.apply(_d,k);g=b[0];var f=!1;for(k=0;k<b.length;k++){var p=b[k];if(require("Outline").isBlockNode(p)){if(p.is(g)){if(require("Outline").isBlockNode(a)&&
a.isEmpty()&&a.canReplaceWith(p)){a.replace(p);a=p;f=!0;continue;}var m=p.getFirstDescendant();if(require("Outline").isLeafNode(m)){m=m.getParentOrThrow();f=m.getChildren();var n=f.length;if(require("Outline").isBlockNode(a))for(var q=0;q<n;q++){a.append(f[q]);}else{for(--n;0<=n;n--){a.insertAfter(f[n]);}a=a.getParentOrThrow();}m.remove();f=!0;if(m.is(p))continue;}}require("Outline").isTextNode(a)&&(a=h);}else f&&require("Outline").isRootNode(a.getParent())&&t(3);f=!1;if(require("Outline").isBlockNode(a)){if(require("Outline").isBlockNode(p)){if(p.canBeEmpty()||!p.isEmpty())a=a.insertAfter(p);}else m=a.getFirstChild(),
null!==m?m.insertBefore(p):a.append(p),a=p;}else require("Outline").isBlockNode(p)?(a=p.getParentOrThrow(),k--):a=a.insertAfter(p);}c&&(require("Outline").isTextNode(e)?e.select():(b=a.getPreviousSibling(),require("Outline").isTextNode(b)?b.select():(b=a.getIndexWithinParent(),a.getParentOrThrow().select(b,b))));if(require("Outline").isBlockNode(a)){if(b=a.getLastDescendant(),c||(null===b?a.select():require("Outline").isTextNode(b)?b.select():b.selectNext()),0!==d.length)for(c=d.length-1;0<=c;c--){b=d[c],h=b.getParentOrThrow(),require("Outline").isBlockNode(a)&&!require("Outline").isBlockNode(b)?(a.append(b),a=b):require("Outline").isBlockNode(b)&&
!b.canInsertAfter(a)?(e=h.constructor.clone(h),require("Outline").isBlockNode(e)||t(4),e.append(b),a.insertAfter(e)):a.insertAfter(b),h.isEmpty()&&!h.canBeEmpty()&&h.remove();}}else c||(require("Outline").isTextNode(a)?a.select():(c=a.getParentOrThrow(),a=a.getIndexWithinParent()+1,c.select(a,a)));return!0;}function L(a){var b=a.getNode(),c=b.getChildAtIndex(a.offset),d=require("Outline").createTextNode();null===c?b.append(d):c.insertBefore(d);a.set(d.getKey(),0,"text");}
function I(a,b){var c=a.anchor,d=a.focus,g=a.isCollapsed()||c.isBefore(d);g&&"block"===c.type?L(c):g||"block"!==d.type||L(d);var e=a.getNodes(),k=e.length,h=a.format,f=g?c:d,m=g?d:c;c=f.offset;var n=m.offset;d=e[0];require("Outline").isTextNode(d)||t(5);g=d.getTextContent().length;if(d.isSegmented()||d.isImmutable()||!d.canInsertTextAtEnd())if(f=f.offset,a.isCollapsed()&&f===g){f=d.getNextSibling();if(!require("Outline").isTextNode(f)||u(f)||f.isSegmented())f=require("Outline").createTextNode(),d.insertAfter(f);f.select(0,0);d=f;if(""!==b){I(a,b);
return;}}else if(a.isCollapsed()&&0===f){f=d.getPreviousSibling();if(!require("Outline").isTextNode(f)||u(f)||f.isSegmented())f=require("Outline").createTextNode(),d.insertBefore(f);f.select();d=f;if(""!==b){I(a,b);return;}}else d.isSegmented()&&f!==g&&(f=require("Outline").createTextNode(d.getTextContent()),d.replace(f),d=f);if(1===k){if(u(d))d.remove();else{e=d.getFormat();if(c===n&&e!==h)if(""===d.getTextContent())d.setFormat(h);else{var _d$splitText;e=require("Outline").createTextNode(b);e.setFormat(h);e.select();0===c?d.insertBefore(e):((_d$splitText=d.splitText(c),k=_d$splitText[0],_d$splitText),k.insertAfter(e));return;}d=
d.spliceText(c,n-c,b,!0);""===d.getTextContent()?d.remove():d.isComposing()&&"text"===a.anchor.type&&(a.anchor.offset-=b.length);}}else{f=e[k-1];h=new Set([].concat(d.getParentKeys(),f.getParentKeys()));var p=require("Outline").isBlockNode(d)?d:d.getParentOrThrow(),q=require("Outline").isBlockNode(f)?f:f.getParentOrThrow();"text"===m.type&&(0!==n||""===f.getTextContent())||"block"===m.type&&f.getIndexWithinParent()<n?require("Outline").isTextNode(f)&&!u(f)&&n!==f.getTextContentSize()?(f.isSegmented()&&(m=require("Outline").createTextNode(f.getTextContent()),f.replace(m),
f=m),f=f.spliceText(0,n,""),h.add(f.getKey())):f.remove():h.add(f.getKey());n=q.getChildren();m=new Set(e);p=p.is(q);for(var C=n.length-1;0<=C;C--){var v=n[C];if(v.is(d))break;v.isAttached()&&(!m.has(v)||v.is(f)?p||d.insertAfter(v):v.remove());}if(!p)for(n=q,m=null;null!==n;){f=n.getChildren();q=f.length;if(0===q||f[q-1].is(m))h["delete"](n.getKey()),m=n;n=n.getParent();}u(d)?c===g?d.select():d.remove():(d=d.spliceText(c,g-c,b,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===a.anchor.type&&(
a.anchor.offset-=b.length));for(a=1;a<k;a++){b=e[a],h.has(b.getKey())||b.remove();}}}
exports.cloneContents=function(a){var b=a.anchor,c=a.focus,d=b.getNode(),g=c.getNode(),e=b.getCharacterOffset();var k=c.getCharacterOffset();if(d===g&&require("Outline").isTextNode(d))return a=x(d),d=(g=k>e)?e:k,e=g?k:e,a.__text=a.__text.slice(d,e),e=a.getKey(),{range:[e],nodeMap:[[e,a]]};a=a.getNodes();if(0===a.length)return{range:[],nodeMap:[]};d=a.length;var h=a[0];g=a[d-1];b=b.isBefore(c);c=new Map();var f=[];y(h,b?e:k,!0,f,c);for(h=0;h<d;h++){var m=a[h],n=m.getKey();if(!(c.has(n)||require("Outline").isBlockNode(m)&&m.excludeFromCopy())){var p=
x(m);require("Outline").isRootNode(m.getParent())&&f.push(m.getKey());c.set(n,p);}}y(g,b?k:e,!1,f,c);return{range:f,nodeMap:Array.from(c.entries())};};exports.deleteBackward=function(a){E(a,!0);};exports.deleteForward=function(a){E(a,!1);};exports.deleteLineBackward=function(a){a.isCollapsed()&&F(a,!0,"lineboundary",!1);H(a);};exports.deleteLineForward=function(a){a.isCollapsed()&&F(a,!1,"lineboundary",!1);H(a);};exports.deleteWordBackward=function(a){a.isCollapsed()&&F(a,!0,"word",!1);H(a);};
exports.deleteWordForward=function(a){a.isCollapsed()&&F(a,!1,"word",!1);H(a);};
exports.extractSelection=function(a){var _k$splitText,_a$splitText;var b=a.getNodes(),c=b.length;var d=c-1;var g=a.anchor;var e=a.focus;var k=b[0];a=b[d];var h=g.getCharacterOffset();var f=e.getCharacterOffset();if(0===c)return[];if(1===c)return require("Outline").isTextNode(k)?(c=h>f?f:h,b=k.splitText(c,h>f?h:f),[0===c?b[0]:b[1]]):[k];g=g.isBefore(e);require("Outline").isTextNode(k)&&(c=g?h:f,0!==c&&(_k$splitText=k.splitText(c),k=_k$splitText[1],_k$splitText),b[0]=k);require("Outline").isTextNode(a)&&(k=a.getTextContent().length,h=g?f:h,h!==k&&(_a$splitText=a.splitText(h),a=_a$splitText[0],_a$splitText),b[d]=a);return b;};
exports.formatText=function(a,b){var c=a.getNodes(),d=c.length-1;var g=c[0],e=c[d];if(a.isCollapsed())a.toggleFormatType(b);else{var k=a.anchor,h=a.focus,f=g.getTextContent().length,m=h.offset;a=0;for(var n=0;n<c.length;n++){var p=c[n];if(require("Outline").isTextNode(p)){a=p.getFormatFlags(b,null);break;}}n=k.offset;h=(k=k.isBefore(h))?n:m;k=k?m:n;h===g.getTextContentSize()&&(p=g.getNextSibling(),require("Outline").isTextNode(p)&&(h=n=0,g=p,a=g.getFormatFlags(b,null)));if(g===e)require("Outline").isTextNode(g)&&(h=n>m?m:n,k=n>m?n:m,h!==k&&(0===
h&&k===f?(g.setFormat(a),g.select(h,k)):(b=g.splitText(h,k),b=0===h?b[0]:b[1],b.setFormat(a),b.select(0,k-h))));else for(require("Outline").isTextNode(g)&&(0!==h&&(_g$splitText=g.splitText(h),g=_g$splitText[1],_g$splitText),g.setFormat(a)),f=a,require("Outline").isTextNode(e)&&(f=e.getFormatFlags(b,a),a=e.getTextContent().length,0!==k&&(k!==a&&(_e$splitText2=e.splitText(k),e=_e$splitText2[0],_e$splitText2),e.setFormat(f))),a=1;a<d;a++){var _g$splitText,_e$splitText2;m=c[a],k=m.getKey(),require("Outline").isTextNode(m)&&k!==g.getKey()&&k!==e.getKey()&&!m.isImmutable()&&(k=m.getFormatFlags(b,f),m.setFormat(k));}}};
exports.getSelectionStyleValueForProperty=function(a,b,c){if(c===void 0){c="";}var d=null;var g=a.getNodes();var e=a.anchor,k=a.focus,h=a.isBackward();a=h?k.offset:e.offset;e=h?k.getNode():e.getNode();for(k=0;k<g.length;k++){var f=g[k];if((0===k||0!==a||!f.is(e))&&require("Outline").isTextNode(f)){h=b;var m=c;f=f.getStyle();f=z(f);h=null!==f?f[h]||m:m;if(null===d)d=h;else if(d!==h){d="";break;}}}return null===d?c:d;};exports.getStyleObjectFromCSS=z;exports.insertLineBreak=J;exports.insertNodes=K;
exports.insertParagraph=function(a){a.isCollapsed()||H(a);var b=a.anchor,c=b.offset;if("text"===b.type){var _d$splitText2;var d=b.getNode(),g=d.getTextContent().length;b=d.getNextSiblings().reverse();var e=d.getParentBlockOrThrow();0===c?b.push(d):c!==g&&((_d$splitText2=d.splitText(c),c=_d$splitText2[1],_d$splitText2),b.push(c));}else e=b.getNode(),b=e.getChildren().slice(c).reverse();c=e.insertNewAfter(a);if(null===c)J(a);else if(require("Outline").isBlockNode(c)){a=b.length;e=null;if(0===a)c.select(0,0);else for(d=0;d<a;d++){g=b[d],null===e?c.append(g):e.insertBefore(g),e=g;}
c.selectStart();}};exports.insertRichText=function(a,b){var c=b.split(/\r?\n/);if(1===c.length)I(a,b);else{b=[];var d=c.length;for(var g=0;g<d;g++){var e=c[g];""!==e&&b.push(require("Outline").createTextNode(e));g!==d-1&&b.push(require("Outline").createLineBreakNode());}K(a,b);}};exports.insertText=I;exports.moveCharacter=function(a,b,c){var d="rtl"===a.anchor.getNode().getTopParentBlockOrThrow().getDirection();F(a,c?!d:d,"character",!b);};
exports.patchStyleText=function(a,b){var c=a.getNodes();var d=c.length-1;var g=c[0],e=c[d];if(!a.isCollapsed()){var k=a.anchor,h=a.focus;a=g.getTextContent().length;var f=h.offset,m=k.offset;k=(h=k.isBefore(h))?m:f;h=h?f:m;if(k===g.getTextContentSize()){var n=g.getNextSibling();require("Outline").isTextNode(n)&&(k=m=0,g=n);}if(g===e)require("Outline").isTextNode(g)&&(k=m>f?f:m,h=m>f?m:f,k!==h&&(0===k&&h===a?(A(g,b),g.select(k,h)):(c=g.splitText(k,h),c=0===k?c[0]:c[1],A(c,b),c.select(0,h-k))));else for(require("Outline").isTextNode(g)&&(0!==k&&(_g$splitText2=
g.splitText(k),g=_g$splitText2[1],_g$splitText2),A(g,b)),require("Outline").isTextNode(e)&&(a=e.getTextContent().length,h!==a&&(_e$splitText3=e.splitText(h),e=_e$splitText3[0],_e$splitText3),0!==h&&A(e,b)),a=1;a<d;a++){var _g$splitText2,_e$splitText3;f=c[a],m=f.getKey(),require("Outline").isTextNode(f)&&m!==g.getKey()&&m!==e.getKey()&&!f.isImmutable()&&A(f,b);}}};exports.removeText=H;
exports.selectAll=function(a){var b=a.anchor;a=a.focus;var c=b.getNode().getTopParentBlockOrThrow().getParentOrThrow();var d=c.getFirstDescendant();c=c.getLastDescendant();var g="block",e="block",k=0;require("Outline").isTextNode(d)?g="text":require("Outline").isBlockNode(d)||null===d||(d=d.getParentOrThrow());require("Outline").isTextNode(c)?(e="text",k=c.getTextContentSize()):require("Outline").isBlockNode(c)||null===c||(c=c.getParentOrThrow(),k=c.getChildrenSize());d&&c&&(b.set(d.getKey(),0,g),a.set(c.getKey(),k,e));};
exports.updateCaretSelectionForAdjacentHashtags=D;exports.updateCaretSelectionForRange=F;exports.updateCaretSelectionForUnicodeCharacter=B;}),null);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("MWV2ComposerVoiceRecorder.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","MWChatAudioLog.bs","MWPThreadTheme.bs","bs_caml_option","bs_curry","cancelAnimationFrame","formatDurationSeconds","react","requestAnimationFrameAcrossTransitions","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{style:{position:"absolute"},role:"slider",tabIndex:0,"aria-label":g._(/*FBT_CALL*/"Audio scrubber"/*FBT_CALL*/),"aria-valuenow":b,"aria-valuemin":0,"aria-valuemax":a})}c={make:k};function l(a){var c=a.audioEl;a=a.children;var d=j.useCallback(function(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5},[]),e=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime-b("bs_curry")._1(d,e)},[d]),f=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime+b("bs_curry")._1(d,e)},[d]),h=j.useCallback(function(a){a=c.current;if(a!==void 0){b("bs_caml_option").valFromOption(a).currentTime=0;return}},[]),i=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var d=a.duration;a.currentTime=d},[]),k=j.useMemo(function(){var a;return[{command:{key:(a=b("CometKeys")).UP},description:g._(/*FBT_CALL*/"Increases slider value one step."/*FBT_CALL*/),handler:f},{command:{key:a.DOWN},description:g._(/*FBT_CALL*/"Decreases slider value one step."/*FBT_CALL*/),handler:e},{command:{key:a.LEFT},description:g._(/*FBT_CALL*/"Decreases slider value one step."/*FBT_CALL*/),handler:e},{command:{key:a.RIGHT},description:g._(/*FBT_CALL*/"Increases slider value one step."/*FBT_CALL*/),handler:f},{command:{key:a.HOME},description:g._(/*FBT_CALL*/"Sets slider to its minimum value."/*FBT_CALL*/),handler:h},{command:{key:a.END},description:g._(/*FBT_CALL*/"Sets slider to its maximum value."/*FBT_CALL*/),handler:i}]},[e,f,h,i]);return j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:k,children:a})}d={make:l};var m={timer:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4",height:"oeo4gz9l",width:"chsygg5i",backgroundColor:"q2y6ezfg",borderTopStartRadius:"pdihbav5",borderTopEndRadius:"fo8ltl2p",borderBottomEndRadius:"b8f6b1oh",borderBottomStartRadius:"q0b78ich",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",fontSize:"e9vueds3",fontWeight:"lrazzd5p",cursor:"nhd2j8a9",userSelect:"abiwlrkh",position:"l9j0dhe7"}},n=j.memo(function(a){var c=a.time;a=a.color;a=a!==void 0?a:"black";c=b("formatDurationSeconds")(c);a={color:a};return j.jsx("div",{"data-testid":"mw_recorder_timestamp",className:(i||(i=b("stylex")))(m.timer),style:a,children:c})});e={styles:m,make:n};var o={pressable:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",width:"b73ngqbp",height:"rgmg9uty",backgroundColor:"q2y6ezfg",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function p(a){var c=a.onPress,d=a.onHoverMove,e=a.label;a=a.icon;e={"aria-label":e,disabled:c===void 0,overlayRadius:"50%",xstyle:function(a){return[o.pressable]},children:a};d!==void 0&&(e.onHoverMove=b("bs_caml_option").valFromOption(d));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));return j.jsx(b("CometPressable.react"),e)}var q={styles:o,make:p},r={highlight:{height:"datstx6m",width:"k4urcfbm",start:"j9ispegn",top:"kr520xx4",position:"pmk7jnqg",transform:"hp24h0cv"},outgoing:{opacity:"lupvgy83",backgroundColor:"q2y6ezfg"},incoming:{opacity:"h34q056n",backgroundColor:"rn3djb20"}},s=j.forwardRef(function(a,c){var d=a.style;a=a.outgoing;d=d!==void 0?b("bs_caml_option").valFromOption(d):{};var e=j.useRef(void 0);j.useImperativeHandle(c,function(){return{updateHighlight:function(a){var b=e.current;if(!(b==null)){b.style.transform="translateX("+(a-100).toFixed(1)+"%)";return}}}},[e]);return j.jsx("div",{ref:e,className:(i||(i=b("stylex")))(r.highlight,a?r.outgoing:r.incoming),style:d})}),t={styles:r,make:s};function u(a){var c=a.duration,d=a.audioEl,e=a.currentTime,f=a.isProgressing,g=a.isCompleted;a=a.outgoing;a=a!==void 0?a:!0;var h=j.useRef(void 0);j.useEffect(function(){var a=function(a){var b=h.current;if(!(b==null))return b.updateHighlight(a)};if(g){a(0);return}if(f){var e={contents:void 0},i={contents:void 0},j=function f(g){var h=d.current;if(h!==void 0){h=b("bs_caml_option").valFromOption(h);h=h.currentTime/h.duration}else{var j=e.contents;j=j!==void 0?g-j:(e.contents=g,0);h=j/(c*1e3)}g=Math.min(h*100,100);a(g);if(g<100){i.contents=b("bs_caml_option").some(b("requestAnimationFrameAcrossTransitions")(f));return}};i.contents=b("bs_caml_option").some(b("requestAnimationFrameAcrossTransitions")(j));return function(a){a=i.contents;if(a!==void 0){b("cancelAnimationFrame")(b("bs_caml_option").valFromOption(a));return}}}j=d.current;if(j!==void 0){j=b("bs_caml_option").valFromOption(j);j=j.currentTime/j.duration;a(j*100)}},[c,f,g,h,d,e]);return j.jsx(s,{style:{transform:"translateX(-100%)"},outgoing:a,ref:h})}var v={make:u};function w(a,b,c){return Math.min(Math.max(b,a),c)}var x={container:{flexGrow:"buofh1pr",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"i1fnvgqd",height:"tv7at329",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7"}};function y(a){var c=a.scrubberRef,d=a.hasScrubber,e=a.audioEl,f=a.color,g=a.testid,h=a.style;a=a.children;h=h!==void 0?b("bs_caml_option").valFromOption(h):{};var k=j.useRef(void 0),l=function(a,b){b=b.getBoundingClientRect();a=a.clientX-b.left;a=a/b.width;return w(a,0,1)},m=function(a){var c=e.current,d=k.current;if(c===void 0)return;if(d==null)return;c=b("bs_caml_option").valFromOption(c);c.currentTime=l(a,d)*c.duration*100/100},n=function(a){var b=k.current,d=c.current;if(!(b==null)&&!(d==null))return d.updateHighlight(l(a,b)*100)},o=function(a){a=c.current;if(!(a==null))return a.updateHighlight(0)};return j.jsx("div",{ref:k,"data-testid":g,className:(i||(i=b("stylex")))(x.container),style:Object.assign({},{backgroundColor:f},h),onMouseMove:d?n:void 0,onMouseLeave:d?o:void 0,onClick:d?m:void 0,children:a})}var z={clamp:w,styles:x,make:y};function A(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}var B={make:A};function C(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("rect",{x:"9",y:"9",width:"18",height:"18",rx:"2",fill:a})})}var D={make:C};function E(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}var F={make:E},G=g._(/*FBT_CALL*/"Play"/*FBT_CALL*/),H=g._(/*FBT_CALL*/"Stop recording"/*FBT_CALL*/),I=g._(/*FBT_CALL*/"Pause"/*FBT_CALL*/),J={playbackButtonContainer:{marginEnd:"fv0vnmcu",marginStart:"ggphbty4"}};function a(a){var c=a.voiceRecorder;a=b("MWPThreadTheme.bs").useBottom(void 0);var d=c.audioEl,e=c.state,f;if(typeof e==="number")f=!1;else switch(e.TAG|0){case 0:f=!1;break;case 1:case 2:f=!0;break}var g=j.useRef(void 0),h=function(a){var b=g.current;if(!(b==null)){a.stopPropagation();return b.updateHighlight(0)}},m=function(a){b("bs_curry")._1(c.toggle,e);if(typeof e==="number")return;switch(e.TAG|0){case 0:return b("MWChatAudioLog.bs").logClickStopRecording(0);case 1:a=e._1;var d=e._0;if(a===0)return b("MWChatAudioLog.bs").logPlaybackStart(d);else return b("MWChatAudioLog.bs").logPlaybackResume(d,a);case 2:return b("MWChatAudioLog.bs").logPlaybackPause(e._0,e._1)}},o;if(typeof e==="number")o=0;else switch(e.TAG|0){case 0:o=60;break;case 1:case 2:o=e._0;break}var q;if(typeof e==="number")q=void 0;else switch(e.TAG|0){case 0:q=void 0;break;case 1:case 2:q=e._1;break}var r;if(typeof e==="number")r=!1;else switch(e.TAG|0){case 1:r=!1;break;case 0:case 2:r=!0;break}var t;t=typeof e==="number"||e.TAG!==1?!1:e._1===0;t={duration:o,audioEl:d,isProgressing:r,isCompleted:t,outgoing:!0};q!==void 0&&(t.currentTime=b("bs_caml_option").valFromOption(q));var v,w=0;if(typeof e==="number")v=null;else switch(e.TAG|0){case 0:v=null;break;case 1:case 2:w=1;break}w===1&&(v=j.jsx(k,{currentTime:e._1,duration:e._0}));var x;if(typeof e==="number")x=G;else switch(e.TAG|0){case 0:x=H;break;case 1:x=G;break;case 2:x=I;break}var z;if(typeof e==="number")z=j.jsx(A,{color:a});else switch(e.TAG|0){case 0:z=j.jsx(C,{color:a});break;case 1:z=j.jsx(A,{color:a});break;case 2:z=j.jsx(E,{color:a});break}var B;w=0;if(typeof e==="number")B=0;else switch(e.TAG|0){case 0:B=e._1;break;case 1:case 2:w=1;break}w===1&&(B=Math.max(e._0-e._1,0));return j.jsx(y,{scrubberRef:g,hasScrubber:f,audioEl:d,color:a,testid:"mw_audio_recorder",style:{cursor:f?"pointer":"default",borderRadius:"18px"},children:j.jsxs(l,{audioEl:d,children:[j.jsx(u,t),v,j.jsx(s,{outgoing:!0,ref:g}),j.jsx("div",{onMouseMove:f?h:void 0,className:(i||(i=b("stylex")))(J.playbackButtonContainer),children:j.jsx(p,{onPress:m,label:x,icon:z})}),j.jsx(n,{time:B,color:a})]})})}a=a;f.ScreenreaderLabel=c;f.KeyCommands=d;f.Timer=e;f.PlaybackButton=q;f.Highlight=t;f.Progress=v;f.Container=z;f.PlayIcon=B;f.StopIcon=D;f.PauseIcon=F;f.playLabel=G;f.stopLabel=H;f.pauseLabel=I;f.styles=J;f.make=a}),null);
__d("MWV2AudioPlayer.bs",["CometProgressRingIndeterminate.react","MWChatAudioLog.bs","MWConsole","MWLSThreadDisplayContext.bs","MWPThreadTheme.bs","MWV2ColorUtils.bs","MWV2ComposerVoiceRecorder.bs","Promise","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=56;var j={common:{flexGrow:"buofh1pr",alignSelf:"ns4p8fja",display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn"},transparent:{position:"l9j0dhe7",height:"datstx6m",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",overflowX:"ni8dbmo4",overflowY:"stjgntxs",":after":{content:"i6jr3soi",display:"k4aqvg2j",position:"g8e0jvg7",top:"geli4699",bottom:"fkq5d175",start:"oskkt2ky",end:"i4sm7uox",borderTopStyle:"fin0ypmt",borderEndStyle:"j10cs0yc",borderBottomStyle:"aw4oqepz",borderStartStyle:"fgzft9zi",borderTopWidth:"dzm1kfb5",borderEndWidth:"oc4jhviy",borderBottomWidth:"h624itt5",borderStartWidth:"reaovrpu",borderTopColor:"hwba8txa",borderEndColor:"dzgn2jm7",borderBottomColor:"n4g4bzxc",borderStartColor:"sdxs9vve",borderTopStartRadius:"cur584us",borderTopEndRadius:"gt092ec4",borderBottomEndRadius:"t02hhl22",borderBottomStartRadius:"lm2lsiji",pointerEvents:"yfudjqg5"}}};function k(a,b){if(typeof b==="number")if(typeof a==="number")return{TAG:0,_0:0};else return a;if(b.TAG===0)if(typeof a==="number")return a;else if(a.TAG===0)return{TAG:1,_0:a._0};else return{TAG:0,_0:b._0?0:a._0};b=b._0;if(typeof a==="number")return a;else if(a.TAG===0)return{TAG:0,_0:b};else return{TAG:1,_0:b}}function a(a){var c=a.attachment,d=a.getPlayableUrl;a=a.outgoing;var e=i.useReducer(k,0),f=e[1],g=e[0],l=b("bs_curry")._1(d,c);e=b("MWPThreadTheme.bs").useHook(void 0);d=a&&e.gradientColors.length>1;e=a?d?"transparent":b("MWV2ColorUtils.bs").int64ToHex(e.threadTheme.c):"var(--wash)";var m=g!==0,n=b("MWLSThreadDisplayContext.bs").useHook(void 0);n={cursor:m?"pointer":"default",width:n!==void 0&&n?"218px":"180px"};var o=d?void 0:"18px";o!==void 0&&(n.borderRadius=o);o=n;var p=i.useRef(void 0);i.useEffect(function(){if(l===void 0)return;var a=new Audio(l),c=function(a){a=p.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).currentTime;return f({TAG:1,_0:a})},d=function(c){p.current=b("bs_caml_option").some(a);return f(0)},e=function(a){return f({TAG:0,_0:!0})};a.addEventListener("canplay",d);a.addEventListener("timeupdate",c);a.addEventListener("ended",e);return function(b){a.removeEventListener("canplay",d),a.removeEventListener("timeupdate",c),a.removeEventListener("ended",e),a.pause()}},[l]);n=function(a){a=p.current;if(a===void 0)return f({TAG:0,_0:!1});a=b("bs_caml_option").valFromOption(a);if(typeof g==="number")return f({TAG:0,_0:!1});if(g.TAG===0){a.play().then(function(a){f({TAG:0,_0:!1});return b("Promise").resolve(void 0)})["catch"](function(a){b("MWChatAudioLog.bs").logBrowserDenyAccess(void 0);return b("Promise").resolve(void 0)});return}a.pause();return f({TAG:0,_0:!1})};var q=b("MWPThreadTheme.bs").useBottom(void 0);c=c.bd;c=c!==void 0?b("bs_caml_int64").to_float(c)/1e3:0;var r=i.useRef(void 0),s=function(a){var b=r.current;if(!(b==null)){a.stopPropagation();return b.updateHighlight(0)}},t=p.current,u;u=typeof g==="number"||g.TAG===0?!1:!0;var v;v=typeof g==="number"||g.TAG!==0?!1:g._0===0;t={duration:t!==void 0?b("bs_caml_option").valFromOption(t).duration:0,audioEl:p,isProgressing:u,isCompleted:v,outgoing:a};u=typeof g==="number"?void 0:g._0;u!==void 0&&(t.currentTime=b("bs_caml_option").valFromOption(u));if(g===0)v=i.jsx("div",{onMouseMove:m?s:void 0,className:(h||(h=b("stylex")))(b("MWV2ComposerVoiceRecorder.bs").styles.playbackButtonContainer,b("MWV2ComposerVoiceRecorder.bs").PlaybackButton.styles.pressable),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})});else{u=typeof g==="number"||g.TAG===0?b("MWV2ComposerVoiceRecorder.bs").playLabel:b("MWV2ComposerVoiceRecorder.bs").pauseLabel;var w;if(typeof g==="number")w=null;else if(g.TAG===0){var x={},y=a?q:void 0;y!==void 0&&(x.color=b("bs_caml_option").valFromOption(y));w=i.jsx(b("MWV2ComposerVoiceRecorder.bs").PlayIcon.make,x)}else{y={};x=a?q:void 0;x!==void 0&&(y.color=b("bs_caml_option").valFromOption(x));w=i.jsx(b("MWV2ComposerVoiceRecorder.bs").PauseIcon.make,y)}x={label:u,icon:w};y=g===0?void 0:n;y!==void 0&&(x.onPress=b("bs_caml_option").valFromOption(y));v=i.jsx("div",{onMouseMove:m?s:void 0,className:(h||(h=b("stylex")))(b("MWV2ComposerVoiceRecorder.bs").styles.playbackButtonContainer),children:i.jsx(b("MWV2ComposerVoiceRecorder.bs").PlaybackButton.make,x)})}u={time:typeof g==="number"?0:Math.max(c-g._0,0)};w=a?q:void 0;w!==void 0&&(u.color=b("bs_caml_option").valFromOption(w));return i.jsx(b("MWV2ComposerVoiceRecorder.bs").KeyCommands.make,{audioEl:p,children:i.jsx(b("MWV2ComposerVoiceRecorder.bs").Container.make,{scrubberRef:r,hasScrubber:m,audioEl:p,color:e,testid:"mw_audio_player",style:o,children:i.jsxs("div",{className:(h||(h=b("stylex")))(j.common,d?j.transparent:!1),children:[i.jsx(b("MWV2ComposerVoiceRecorder.bs").Progress.make,t),typeof g==="number"?null:i.jsx(b("MWV2ComposerVoiceRecorder.bs").ScreenreaderLabel.make,{currentTime:g._0,duration:c}),i.jsx(b("MWV2ComposerVoiceRecorder.bs").Highlight.make,{outgoing:a,ref:r}),v,i.jsx(b("MWV2ComposerVoiceRecorder.bs").Timer.make,u)]})})})}d=36;e=a;f.borderWidth=d;f.borderRadius=c;f.styles=j;f.reducer=k;f.make=e}),null);
__d("FeedCometComposerFooterWithSinglePostButton_footer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"FeedCometComposerFooterWithSinglePostButton_footer$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("FeedCometComposerFooterWithSinglePostButton_footer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedCometComposerFooterWithSinglePostButton_footer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"FeedCometComposerFooterWithSinglePostButton",abstractKey:null};e.exports=a}),null);
__d("CometComposerWithTaggingSprout_sprout$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometComposerWithTaggingSprout_sprout$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("CometComposerWithTaggingSprout_sprout.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerWithTaggingSprout_sprout",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CometComposerWithTaggingSprout",abstractKey:null};e.exports=a}),null);
__d("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"PrivacyRowInput_fragment"}],b={alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:a,storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],kind:"Fragment",metadata:null,name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer",selections:[b,{alias:"scope",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},{kind:"Variable",name:"tags",variableName:"tags"}],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"selected_row_override",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"PrivacySelectorRenderer",abstractKey:"__isPrivacySelectorRenderer"}}();e.exports=a}),null);
__d("CometPrivacySelectorEditableQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4421493241281874"}),null);
__d("CometPrivacySelectorEditableQuery.graphql",["CometPrivacySelectorEditable_renderer$normalization.graphql","CometPrivacySelectorEditableQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:!1,kind:"LocalArgument",name:"includePickerData"},d={defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},e={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"tags"},h=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"CometPrivacySelectorEditableQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"includePickerData",variableName:"includePickerData"},{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"tags",variableName:"tags"}],kind:"FragmentSpread",name:"CometPrivacySelectorEditable_renderer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,f,g,a],kind:"Operation",name:"CometPrivacySelectorEditableQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$includePickerData",variableName:"includePickerData"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$renderLocation",variableName:"renderLocation"},{kind:"Variable",name:"CometPrivacySelectorEditable_renderer$tags",variableName:"tags"}],fragment:b("CometPrivacySelectorEditable_renderer$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometPrivacySelectorEditableQuery_facebookRelayOperation"),metadata:{},name:"CometPrivacySelectorEditableQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometPrivacySelectorEditable_renderer.graphql",["CometPrivacySelectorEditableQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"tags",variableName:"tags"},c=[{kind:"Variable",name:"localPrivacyRow",variableName:"localPrivacyRow"},{kind:"Variable",name:"renderLocation",variableName:"renderLocation"},a];return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includePickerData"},{defaultValue:null,kind:"LocalArgument",name:"localPrivacyRow"},{defaultValue:null,kind:"LocalArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"tags"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("CometPrivacySelectorEditableQuery.graphql"),identifierField:"id"}},name:"CometPrivacySelectorEditable_renderer",selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorNotifyPrivacyOnInitEffect_renderer"},{args:c,kind:"FragmentSpread",name:"useCometPrivacySelectorOnRowInputMismatchEffect_renderer"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:c,kind:"FragmentSpread",name:"CometPrivacySelectorEntryPointMatchContainer_renderer"},{condition:"includePickerData",kind:"Condition",passingValue:!0,selections:[{args:c,kind:"FragmentSpread",name:"CometPrivacySelectorPickerContainer_renderer"}]},{alias:"scope",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Variable",name:"selected_override",variableName:"localPrivacyRow"},a],concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"},{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorPushView_scope"},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null}],storageKey:null}],type:"PrivacyScopeEditableRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometComposerSubmitButton.react",["cr:1555","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:1555")}),98);
__d("FeedCometComposerFooterWithSinglePostButton.react",["fbt","CometComposerOnSubmitContext","CometComposerSubmitButton.react","CometRelay","FeedCometComposerFooterWithSinglePostButton_footer.graphql","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useContext;function a(a){var e=a.footer,f=a.onPressPost;a=a.storyID;e=d("CometRelay").useFragment(i!==void 0?i:i=b("FeedCometComposerFooterWithSinglePostButton_footer.graphql"),e);if(e==null)throw c("unrecoverableViolation")("Renderer cannot be null in feed composer footer","comet_composer");e=k(c("CometComposerOnSubmitContext"));e=e.isSaving;return j.jsx("div",{className:"k4urcfbm discj3wi dati1w0a hv4rvrfc i1fnvgqd j83agx80 rq0escxv bp9cbjyn",children:j.jsx(c("CometComposerSubmitButton.react"),{disabled:e,label:a!=null?h._(/*FBT_CALL*/"Save"/*FBT_CALL*/):h._(/*FBT_CALL*/"Post"/*FBT_CALL*/),onPress:f,testid:void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedCometComposerWithTaggingButton.react",["CometComposerWithTaggingButton.react","react","useFeedComposerCometWithTagDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.visibleOnLoad;var b=c("useFeedComposerCometWithTagDataSource")({limit:20});return h.jsx(c("CometComposerWithTaggingButton.react"),{dataSource:b,visibleOnLoad:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerWithTaggingSprout.react",["CometComposerWithTaggingSprout_sprout.graphql","ComposerSproutDisplayTypeContext","FeedCometComposerWithTaggingButton.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useContext;function a(a){var e=a.pushedPageOnLoad;a=a.sprout;d("RelayHooks").useFragment(h!==void 0?h:h=b("CometComposerWithTaggingSprout_sprout.graphql"),a);a=j(c("ComposerSproutDisplayTypeContext")).type==="push_view";return i.jsx(c("FeedCometComposerWithTaggingButton.react"),{visibleOnLoad:!a&&e==="with_tagger"},"withTaggerSprout")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometPrivacySelectorOnRowInputMismatchEffect",["CometPrivacySelectorContext","CometRelay","PrivacyRowInput","react","useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useContext,j=e.useEffect,k=e.useRef;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometPrivacySelectorOnRowInputMismatchEffect_renderer.graphql"),a);var f=k(e);f.current=e;e=a.scope;var g=i(c("CometPrivacySelectorContext")),l=g[0].localPrivacyRow,m=d("PrivacyRowInput").usePrivacyRowInput(e==null?void 0:e.selected_row_override),n=d("PrivacyRowInput").usePrivacyRowInput(a.privacy_row_input);a=d("PrivacyRowInput").usePrivacyRowInput(e==null?void 0:(g=e.selected_option)==null?void 0:g.privacy_row_input);var o=(e=l)!=null?e:a,p=k(o);j(function(){var a=p.current;p.current=o;if(!d("PrivacyRowInput").arePrivacyRowInputsEqual(l,m))return f.current();if(l!=null)return;if(!d("PrivacyRowInput").arePrivacyRowInputsEqual(a,o))return f.current();if(!d("PrivacyRowInput").arePrivacyRowInputsEqual(n,o))return f.current()},[m,o,l,n])}g["default"]=a}),98);
__d("useCometPrivacySelectorOnTagsChangedEffect",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function j(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;if(a.length!==b.length)return!1;var c=new Set(b);return a.every(function(a){return c.has(a)})}function a(a,b){var c=i(b);c.current=b;var d=i(a);h(function(){if(!j(d.current,a))return c.current(function(){d.current=a})},[a])}g["default"]=a}),98);
__d("CometPrivacySelectorEditable.react",["CometFeatureKillswitch.react","CometPrivacySelectorContext","CometPrivacySelectorEditable_renderer.graphql","CometPrivacySelectorEntryPointMatchContainer.react","CometRelay","WebPixelRatio","emptyFunction","killswitch","react","unrecoverableViolation","useCometPrivacySelectorDialog","useCometPrivacySelectorNotifyPrivacyOnInitEffect","useCometPrivacySelectorOnRowInputMismatchEffect","useCometPrivacySelectorOnTagsChangedEffect","useCometPrivacySelectorPushView"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useMemo,m=e.useRef,n=e.useState,o=e.useTransition;function a(a){var e=a.onPrivacyChange,f=a.onPrivacyChangeStart,g=a.renderer,p=babelHelpers.objectWithoutPropertiesLoose(a,["onPrivacyChange","onPrivacyChangeStart","renderer"]);a=p.pushPage;var q=p.renderLocation,r=p.tags;g=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("CometPrivacySelectorEditable_renderer.graphql"),g);var s=g[0],t=g[1],u=s.id;g=s.scope;var v=k(c("CometPrivacySelectorContext")),w=v[0];v=v[1];var x=w.localPrivacyRow;c("useCometPrivacySelectorNotifyPrivacyOnInitEffect")(s,x==null?e:null);var y=o(),z=y[0],A=y[1];y=n(!1);var B=y[0],C=y[1],D=m(!1);y=B||z||D.current;function E(a,b,c,e){a===void 0&&(a=null);b===void 0&&(b=!1);c===void 0&&(c=!0);e===void 0&&(e=null);if(u==null)return;if(B&&!b){D.current=!0;return}var f={id:u,includePickerData:!0,localPrivacyRow:(b=e)!=null?b:x,renderLocation:q,scale:d("WebPixelRatio").get(),tags:r};A(function(){t(f,{fetchPolicy:c?"network-only":"store-and-network",onComplete:function(){D.current=!1,a==null?void 0:a()}})})}c("useCometPrivacySelectorOnTagsChangedEffect")(r,E);c("useCometPrivacySelectorOnRowInputMismatchEffect")(s,E);var F=j(function(a){C(!0),f&&f(a)},[f]),G=m(E);G.current=E;var H=j(function(a){a.type==="success"&&G.current(null,!0,D.current,a.__newLocalPrivacyRow),C(!1),e&&e(a)},[e]);z=l(function(){return babelHelpers["extends"]({},p,{onPrivacyChange:H,onPrivacyChangeStart:F})},[p,H,F]);if(g==null)throw c("unrecoverableViolation")("Failed to render privacy selector. No scope was received.","comet_privacy_selector");E=g.can_viewer_edit;var I=g.privacy_write_id;if(E!==!0)throw c("unrecoverableViolation")("Trying to render an editable Privacy Selector that the user cannot edit","comet_privacy_selector");if(I==null)throw c("unrecoverableViolation")("Trying to render an editable Privacy Selector without a write ID","comet_privacy_selector");E=c("useCometPrivacySelectorDialog")(g,z,w,v);I=E[0];E=E[1];g=c("useCometPrivacySelectorPushView")(g,z,w,v);z=c("killswitch")("COMET_PRIVACY_SELECTOR_EDITABLE_DISABLED");w=null;z||(w=a!=null?g:I);a=(v=p.enabled)!=null?v:!0;I=i.jsx(c("CometPrivacySelectorEntryPointMatchContainer.react"),{props:{isEnabled:!z&&a,isSaving:y,onPress:(g=w)!=null?g:c("emptyFunction"),onPrivacyChange:H,onPrivacyChangeStart:F,renderLocation:q,triggerRef:E},renderer:s});return i.jsx(c("CometFeatureKillswitch.react"),{enableFeature:!z,fallback:I,children:I})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSelectedThreadOptionsIdContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var b=a.children;a=a.threadId;return h.createElement(i.Provider,{value:a,children:b})}c=a;f.context=i;f.make=c}),null);
__d("CreateFundraiserBeginFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743524");c=b("FalcoLoggerInternal").create("create_fundraiser_begin",a);e.exports=c}),null);
__d("MWV2ChatDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWV2Chat.react").__setRef("MWV2ChatDeferred.react"));b=a;g["default"]=b}),98);
__d("MWChatStateV2Logging.bs",["MWCount.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=h.useRef(a);h.useEffect(function(){var a=Array.from(c.current.tabs.values()),d=function(a){return a.openWatermark>Math.max(a.closeWatermark,a.minimizeWatermark,a.clientForcedMinimizeWatermark)},e=function(a){return Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)>Math.max(a.openWatermark,a.closeWatermark)},f=a.filter(d);d=a.filter(e);f.length>0?(b("bs_curry")._1(b("MWCount.bs").Comet.Cookie.Lift.one,void 0),b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").LOAD_TAB_FROM_COOKIE,extra_data:{tabNumber:f.length}}})):b("bs_curry")._1(b("MWCount.bs").Comet.Cookie.Lift.none,void 0);d.length>0?b("bs_curry")._1(b("MWCount.bs").Comet.Cookie.Show.some,void 0):b("bs_curry")._1(b("MWCount.bs").Comet.Cookie.Show.none,void 0)},[c])}f.useCookieLiftLogging=a}),null);
__d("MWChatStateV2Sync.bs",["BroadcastChannel.bs","MWChatStateV2IsMinimized.bs","MWChatStateV2IsOpen.bs","MWLSActor.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","gkx","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){if(a!==void 0){b("bs_caml_option").valFromOption(a).postMessage(c);return}}function j(a,c){if(a===void 0)return function(a){};var d=b("bs_caml_option").valFromOption(a),e=function(a){return b("bs_curry")._1(c,a.data)};d.addEventListener("message",e);return function(a){d.removeEventListener("message",e)}}function k(a){var c=b("MWLSActor.bs").useActor(void 0);return h.useMemo(function(){return b("BroadcastChannel.bs").make("MWChatStateV2_"+b("bs_int64").to_string(c))},[c])}function l(a){a=Array.from(a.tabs.values());var c=[];a.forEach(function(a){var d=a.tabType;if(d.TAG===0)return;d=d._0;c.push({threadKey:b("bs_int64").to_string(d.threadKey),threadType:b("bs_int64").to_string(d.threadType),openWatermark:a.openWatermark,closeWatermark:a.closeWatermark})});return c}function m(a,c,d){return[{TAG:3,_0:{TAG:1,_0:{threadKey:a,clientThreadKey:void 0,threadType:c}},_1:{shouldFocus:!1},_2:function(a){if(b("MWChatStateV2IsOpen.bs").isOpen(void 0,a))return a;else return{tabId:a.tabId,tabType:a.tabType,openWatermark:a.openWatermark,minimizeWatermark:d,clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,openFlyoutWatermark:a.openFlyoutWatermark}},_3:function(a){return{tabId:a.tabId,tabType:a.tabType,openWatermark:a.openWatermark,minimizeWatermark:d,clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,openFlyoutWatermark:a.openFlyoutWatermark}}}]}function n(a,c){return[{TAG:2,_0:a,_1:{shouldFocus:!1},_2:function(a){if(b("MWChatStateV2IsMinimized.bs").isMinimized(void 0,a))return{tabId:a.tabId,tabType:a.tabType,openWatermark:a.openWatermark,minimizeWatermark:a.minimizeWatermark,clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark};else return a}}]}function a(a,c,d,e){var f=k(void 0);h.useEffect(function(){if(d){b("bs_curry")._1(e,function(a){return!1});var c=l(a);i(f,c)}},[a,f,d]);h.useEffect(function(){return j(f,function(a){try{a.forEach(function(a){var d=b("bs_caml_format").caml_int64_of_string(a.threadKey),e=b("bs_caml_format").caml_int64_of_string(a.threadType),f=a.closeWatermark;a=a.openWatermark;if(a>f)return b("bs_curry")._1(c,m(d,e,a));else return b("bs_curry")._1(c,n(d,f))});return}catch(a){b("recoverableViolation")("Cross-tab sync error","messenger_comet");return}})},[f,c])}c=b("gkx")("1812710")?a:function(a,b,c,d){};f.useCrossTabSync=c}),null);
__d("MWChatStateV2Types.bs",[],(function(a,b,c,d,e,f){"use strict";a=new Map();b={tabs:a,mediaViewerOpenWatermark:-1,focusedTabId:void 0,nextTabId:0};f.empty=b}),null);
__d("MWV2CookieReader.bs",["MWChatStateV2Types.bs","MessagingThreadType.bs","bs_caml","bs_caml_format","bs_caml_option","bs_int64","gkx","killswitch","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){a=a.split(".");var c=a.length,d;if(c>=3)d=[void 0,void 0];else switch(c){case 0:d=[void 0,void 0];break;case 1:c=a[0];d=[c,void 0];break;case 2:c=a[0];a=a[1];d=/^-?[1-9]\d*$/.test(a)?[c,b("bs_caml_format").caml_int64_of_string(a)]:[void 0,void 0];break}c=d[1];a=d[0];if(a===void 0)return;switch(a){case"g":if(c!==void 0)return[c,b("MessagingThreadType.bs").group];else return;case"sc":if(c!==void 0)return[c,b("MessagingThreadType.bs").secureMessageOverWaOneToOne];else return;case"sg":if(c!==void 0)return[c,b("MessagingThreadType.bs").secureMessageOverWaGroup];else return;default:if(c!==void 0)return[c,b("MessagingThreadType.bs").oneToOne];else return}}function h(a){var c=a.map(function(a){return b("bs_int64").to_string(a[0])});c=new Set(c);if(c.size!==a.length){b("recoverableViolation")("Duplicate thread in cookie (t3)","messenger_comet");return a.filter(function(a,c,d){var e=a[0];return!d.slice(c+1|0).some(function(a){return b("bs_caml").i64_eq(a[0],e)})})}else return a}function a(a){if(a==null)return b("MWChatStateV2Types.bs").empty;if(!(!b("killswitch")("MESSENGER_WEB_STOP_PERSISTING_CHAT_HEADS")&&b("gkx")("1812641")&&a.startsWith("C")))return b("MWChatStateV2Types.bs").empty;a=a.slice(1);try{a=JSON.parse(a)}catch(c){b("recoverableViolation")("Error parsing JSON string","messenger_comet"),a=null}if(a===null)return b("MWChatStateV2Types.bs").empty;var c=[];a.t3.forEach(function(a){a=a.i;a=g(a);if(a!==void 0){c.push(a);return}});var d=h(c),e=new Map(),f={contents:0};d.forEach(function(a){e.set(f.contents,{tabId:f.contents,tabType:{TAG:1,_0:{threadKey:a[0],clientThreadKey:void 0,threadType:a[1]}},openWatermark:0,minimizeWatermark:1,clientForcedMinimizeWatermark:0,closeWatermark:0,openFlyoutWatermark:0}),f.contents=f.contents+1|0});a=a.lm3;if(a!==void 0){a=g(b("bs_caml_option").valFromOption(a));if(a!==void 0){var i=a[0];d.some(function(a){return b("bs_caml").i64_eq(a[0],i)})?b("recoverableViolation")("Duplicate thread in cookie (lm3)","messenger_comet"):e.set(f.contents,{tabId:f.contents,tabType:{TAG:1,_0:{threadKey:i,clientThreadKey:void 0,threadType:a[1]}},openWatermark:1,minimizeWatermark:0,clientForcedMinimizeWatermark:0,closeWatermark:0,openFlyoutWatermark:0});f.contents=f.contents+1|0}}return{tabs:e,mediaViewerOpenWatermark:-1,focusedTabId:void 0,nextTabId:f.contents}}f.read=a}),null);
__d("MWChatStateV2.bs",["FBLogger","MWChatStateV2IsOpen.bs","MWChatStateV2Logging.bs","MWChatStateV2Sync.bs","MWChatStateV2Types.bs","MWV2CookieReader.bs","MessengerWebPresenceCookieData","RecoverableViolationWithComponentStack.react","bs_caml","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.TAG===0)if(c.TAG===0)return!0;else return!1;else if(c.TAG===0)return!1;else return b("bs_caml").i64_eq(a._0.threadKey,c._0.threadKey)});if(a!==void 0)return a.tabId}function j(a,c){a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.TAG===0)return c===void 0;else if(c!==void 0)return b("bs_caml").i64_eq(a._0.threadKey,c);else return!1});if(a!==void 0)return a.tabId}function k(a,c,d){if(d)if(b("MWChatStateV2IsOpen.bs").isOpen(void 0,c))return c.tabId;else return;else return a.focusedTabId}function l(a,b){return b.reduce(function(a,b){b=b;while(!0){var c=b;switch(c.TAG|0){case 0:return c._0(a);case 1:var d=c._0,e=a.tabs.get(d);if(e==null)return a;var f=c._2(e),g=k(a,f,c._1.shouldFocus);if(f===e)return a;else return{tabs:new Map(a.tabs).set(d,f),mediaViewerOpenWatermark:a.mediaViewerOpenWatermark,focusedTabId:g,nextTabId:a.nextTabId};case 2:e=j(a,c._0);if(e===void 0)return a;b={TAG:1,_0:e,_1:c._1,_2:c._2};continue;case 3:d=c._1;f=c._0;g=i(a,f);if(g!==void 0){b={TAG:1,_0:g,_1:d,_2:c._2};continue}e=a.nextTabId;g={tabId:e,tabType:f,openWatermark:0,minimizeWatermark:0,clientForcedMinimizeWatermark:0,closeWatermark:0,openFlyoutWatermark:0};e=c._3(g);f=k(a,e,d.shouldFocus);return{tabs:new Map(a.tabs).set(e.tabId,e),mediaViewerOpenWatermark:a.mediaViewerOpenWatermark,focusedTabId:f,nextTabId:a.nextTabId+1|0}}}},a)}function m(a){return b("MWV2CookieReader.bs").read(b("MessengerWebPresenceCookieData").cookie)}var n=h.createContext(b("MWChatStateV2Types.bs").empty),o=h.createContext(void 0);function a(a){a=a.children;var c=h.useReducer(l,b("MWChatStateV2Types.bs").empty,m),d=c[1];c=c[0];var e=h.useState(function(){return!1}),f=e[1],g=h.useCallback(function(a){b("bs_curry")._1(f,function(a){return!0});return b("bs_curry")._1(d,a)},[]);b("MWChatStateV2Logging.bs").useCookieLiftLogging(c);b("MWChatStateV2Sync.bs").useCrossTabSync(c,d,e[0],f);e=h.useContext(o);if(e!==void 0)return h.jsx(b("RecoverableViolationWithComponentStack.react"),{errorMessage:"You can't nest MWChatStateV2 in another MWChatStateV2.",projectName:"messenger_comet"});else return h.createElement(n.Provider,{value:c,children:h.createElement(o.Provider,{value:g,children:a})})}function c(a){a=h.useContext(o);if(a!==void 0)return a;else return function(a){b("FBLogger")("messenger_web_product").warn("Tried to open a chat tab on Comet under the new chat state system, MWChatStateV2. But no MWChatStateV2 was found in react context. Wrap your component in MWChatStateV2? You are likely also be part of Blue on Comet. If so do ping our oncall")}}function d(a){return h.useContext(n)}e=a;f.reducer=l;f.make=e;f.useDispatch=c;f.useState=d}),null);
__d("MWV2ChatOpenTabForPage.bs",["MWChatInteraction.bs","MWChatStateActions.bs","MWChatStateV2.bs","MessagingThreadType.bs","bs_caml_format","bs_curry","react","recoverableViolation","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWChatLogOpenChatTab.bs").__setRef("MWV2ChatOpenTabForPage.bs");function a(a,c){var d=a!==void 0?a:!1,e=b("useMWChatOpenTabTraceProvider")(),f=b("useCometFeedNoRoutingNavigationEventLogger")(),g=b("MWChatStateV2.bs").useDispatch(void 0);return h.useMemo(function(){return function(a,h){f(Date.now(),"","messenger");i.onReady(function(d){return b("bs_curry")._4(d.logOpenPageTab,void 0,a,c,void 0)});return e(function(c){b("MWChatInteraction.bs").set(a,c);if(h){b("recoverableViolation")("Opening secure converstions with pages not supported","messenger_web_product");return}else return b("bs_curry")._1(g,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!d},{TAG:1,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(a),clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").oneToOne}}))},"page",c)}},[f,e,d,c])}f.$MWChatLogOpenChatTab$Deferred=i;f.useHook=a}),null);
__d("MWV2ChatOpenTabForUser.bs",["MWChatInteraction.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWLSPreloadThreadForContact.bs","MessagingThreadType.bs","bs_caml_format","bs_curry","react","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWChatLogOpenChatTab.bs").__setRef("MWV2ChatOpenTabForUser.bs"),j=b("requireDeferred")("MWV2ChatOpenSecureTabForUserCallback.bs").__setRef("MWV2ChatOpenTabForUser.bs");function a(a,c){var d=a!==void 0?a:!1,e=b("useMWChatOpenTabTraceProvider")(),f=b("useCometFeedNoRoutingNavigationEventLogger")();a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser();var g=b("MWChatStateV2.bs").useDispatch(void 0),k=h.useMemo(function(){return function(a,h){f(Date.now(),"","messenger");i.onReady(function(d){return b("bs_curry")._4(d.logOpenUserTab,h,a,c,void 0)});return e(function(c){b("MWChatInteraction.bs").set(a,c);if(h===!0){j.onReady(function(c){return b("bs_curry")._3(c.openChatTab,a,d,g)});return}else return b("bs_curry")._1(g,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!d},{TAG:1,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(a),clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").oneToOne}}))},"user",c)}},[f,e,d,c]);return[k,a]}f.$MWChatLogOpenChatTab$Deferred=i;f.$MWV2ChatOpenSecureTabForUserCallback$Deferred=j;f.useHook=a}),null);
__d("MWChatStateV2.re",["MWChatStateV2.bs"],(function(a,b,c,d,e,f){a=b("MWChatStateV2.bs").make;f.make=a}),null);
__d("MWChatStateV2AreAllTabsClosed.bs",["MWChatStateV2.bs","MWChatStateV2IsClosed.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWChatStateV2.bs").useState(function(a){return a.tabs});a=Array.from(a.tabs.values());var c=a.length;a=a.filter(b("MWChatStateV2IsClosed.bs").isClosed).length;return a===c}f.useHook=a}),null);
__d("MWChatStateV2AreAllTabsClosed.re",["MWChatStateV2AreAllTabsClosed.bs"],(function(a,b,c,d,e,f){a=b("MWChatStateV2AreAllTabsClosed.bs").useHook;f.useHook=a}),null);
__d("MWV2ComposerHasContentContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({hasContentRef:void 0,shouldClearDraftMessageRef:void 0});function a(a){a=a.children;var b=h.useRef(!1),c=h.useRef(!1),d=h.useMemo(function(){return{hasContentRef:b,shouldClearDraftMessageRef:c}},[b,c]);return h.createElement(i.Provider,{value:d,children:a})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("UseMWV2CloseTab.bs",["MWChatConfirmTabCloseDialog.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWV2ComposerHasContentContext.bs","ReStore.bs","bs_curry","bs_int64","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("useCometConfirmationDialog")(),g=f[0];f=b("MWV2ComposerHasContentContext.bs").useContext(void 0);var i=f.shouldClearDraftMessageRef,j=f.hasContentRef;return h.useCallback(function(d){var f=function(d){a!==void 0&&b("MWChatEphemeralMediaTemporarySeenState.bs").endSession(b("bs_int64").to_string(a.a));return b("bs_curry")._1(e,b("MWChatStateActions.bs").closeTab(Date.now(),c.tabId))};if(a!==void 0&&j!==void 0&&j.current)return b("bs_curry")._3(g,b("MWChatConfirmTabCloseDialog.bs").content,function(a){i!==void 0&&(i.current=!0);return f(void 0)},function(a){if(i!==void 0){i.current=!1;return}});else return f(void 0)},[a,c,d,e,g,j,i])}f.useHook=a}),null);
__d("MWV2ChatOpenTabFromNewMessage.bs",["LSThreadAttributionStore.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatThreadId.bs","ODS","bs_curry","react","setTimeout","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(e){return function(f,g){c(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");b("LSThreadAttributionStore.bs").setSource(b("MWChatThreadId.bs").getFBID(e),a);var h=Date.now();b("bs_curry")._1(d,b("MWChatStateActions.bs").openTabOrFlyout(h,{shouldFocus:!1},{TAG:1,_0:{threadKey:f.a,clientThreadKey:void 0,threadType:f.c}}));b("setTimeout")(function(a){return b("bs_curry")._1(d,b("MWChatStateActions.bs").closeFlyout(h,f.a))},3e3);return b("bs_curry")._1(g,void 0)}},[c,a,d])}f.useHook=a}),null);
__d("MWV2HeaderCloseButton.bs",["fbt","CometPressable.react","MWTooltip.react","bs_caml_option","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"Close chat"/*FBT_CALL*/);function a(a){var c=a.onPress,d=a.color,e=a.label;a=a.testid;e=e!==void 0?e:j;var f=b("useSetAttributeRef")("data-prevent_chattab_focus","1");f={"aria-label":e,ref:f,onPress:c,overlayRadius:"50%",children:i.jsx("svg",{width:"26px",height:"26px",viewBox:"0 0 24 24",children:i.jsxs("g",{strokeLinecap:"round",strokeWidth:"2",stroke:d,children:[i.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18"}),i.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6"})]})})};a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return i.jsx(b("MWTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),f)})}c=a;f.defaultLabel=j;f.make=c}),null);
__d("MWV2HeaderContainer.bs",["MDSRow.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"l9j0dhe7",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",backgroundColor:"nred35xi",height:"k7cz35w2",zIndex:"kavbgo14"},divider:{boxShadow:"rlauoc8d"}};function a(a){var c=a.startContent,d=a.endContent,e=a.backgroundColor;a=a.divider;c=c!==void 0?b("bs_caml_option").valFromOption(c):null;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;a=a!==void 0?a:!0;var f={};e!==void 0&&(f.backgroundColor=e);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root,a?j.divider:!1),style:f,children:[i.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:c}),d]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2EnsureThatChatTabExists.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVerifyContactRowExists","LSVerifyThreadRowExists","Promise","ReStore.bs","bs_curry","cr:1127","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var e=function(e){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c))return b("LSTransaction.bs").run(d,function(c){return b("LSVerifyContactRowExists")(a,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");else return b("Promise").resolve(void 0)};b("promiseDone")(e(void 0).then(function(e){return!(b("cr:1127")==null)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c)?b("bs_curry")._2(b("cr:1127").call,d,a):b("LSTransaction.bs").run(d,function(d){return b("LSVerifyThreadRowExists")(a,c,b("LSDatabaseType.bs").mailbox,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite")}),void 0,void 0)},[d,JSON.stringify(a),JSON.stringify(c)])}c=b("cr:1127");f.$MAWVerifyExistingThreadExists$requireCondXplat=b("cr:1127");f.mawVerifyExistingThreadExists=c;f.useHook=a}),null);
__d("MWV2TabContainer.bs",["MWChatFocusComposerContext.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabFocusHandler.bs","UseMWV2CloseTab.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={tabContainer:{backgroundColor:"nred35xi",boxShadow:"eu4i7hue",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",fontSize:"jq4qci2q",lineHeight:"a3bd9o3v",display:"j83agx80",flexDirection:"cbu4d94t",width:"jbcpqwzg",height:"kwja4m9d",maxHeight:"j8pehd6c","@media (min-height: 1280px)":{height:"l8e2pc74"},marginStart:"i0u1bx94"}};function a(a){var c=a.tab,d=a.thread,e=a.style,f=a.tabIndex,g=a.ariaBusy,k=a.ariaLabel,l=a.domRef;a=a.children;var m=b("MWChatStateV2.bs").useDispatch(void 0),n=b("UseMWV2CloseTab.bs").useHook(d,c);return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(n,void 0)},onFocus:function(a){return b("bs_curry")._1(m,b("MWChatStateActions.bs").focusTab(c.tabId))},onBlur:function(a){return b("bs_curry")._1(m,b("MWChatStateActions.bs").blurTab(void 0))},children:i.jsx("div",{className:(h||(h=b("stylex")))(j.tabContainer),style:e,tabIndex:f,"aria-busy":g,"aria-label":k,ref:l,"data-testid":"mwchat-tab",children:a})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.re","CometPressable.react","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={button:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}},k=g._(/*FBT_CALL*/"Attach a file"/*FBT_CALL*/);function l(a){return i.useCallback(function(c){c=Array.from(c);if(c.length>0)return b("bs_curry")._1(a,c)},[a])}function a(a){var c=a.color,d=a.onAttachmentsAdded,e=a.supportedFileTypes,f=a.disabled;a=l(d);d={children:function(a){return i.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,disabled:f,testid:"composer_file_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[j.button]},children:i.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:f?void 0:c})}),forceInlineDisplay:!0})},multiple:!0,onFilesSelected:a};e!==void 0&&(d.accept=b("bs_caml_option").valFromOption(e));return i.jsx(b("CometFileSelector.re").make,d)}c=a;f.label=k;f.useOnFilesSelected=l;f.make=c}),null);
__d("useOutlineIsBlank",["cr:2025"],(function(a,b,c,d,e,f){e.exports=b("cr:2025")}),null);
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
  *
  * @noflow
  * @nolint
  * @preventMunge
  * @preserve-invariant-messages
  * @generated
  * @preserve-whitespace
  * @fullSyntaxTransform
  */__d("useOutlineIsBlank.prod",["Outline","react"],(function $module_useOutlineIsBlank_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var c_react;var b=c_react||(c_react=require("react"));require("Outline");var d="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,g=d&&"documentMode"in document?document.documentMode:null;d&&/Win/.test(navigator.platform);d&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;d&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);d&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);d&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);
d&&/^(?=.*Chrome).*/i.test(navigator.userAgent);d&&"InputEvent"in window&&!g?"getTargetRanges"in new window.InputEvent("input"):!1;var h=d?b.useLayoutEffect:b.useEffect;function k(a,e,f){if(f===void 0){f=!0;}if(e)return!1;a=a.getRoot().getTextContent();f&&(a=a.trim());return""===a;}module.exports=function(a){var _b$useState=b.useState(a.getEditorState().read(function(c){return k(c,a.isComposing());})),e=_b$useState[0],f=_b$useState[1];h(function(){return a.addListener("update",function(_ref){var c=_ref.editorState;var l=a.isComposing();c=c.read(function(m){return k(m,l);});f(c);});},[a]);return e;};}),null);
__d("cometAddEmojiToComposerForOutline",["CometOutlineEmojiNode","FBEmojiResource","Outline","OutlineSelectionHelpers"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function a(a,b,e){b.focus(function(){b.update(function(b){d("Outline").log("cometAddEmojiToComposerForOutline");b=b.getSelection();if(b!==null){var f=h(a),g=a.map(function(a){return String.fromCodePoint(a)});g=c("FBEmojiResource").fromCodepoints(g);if(g==null)return;g=g.getImageURL(e);if(g==null)return;var i=f;f=d("CometOutlineEmojiNode").createEmojiNode(f,i,g,e);d("OutlineSelectionHelpers").insertNodes(b,[f])}})})}g["default"]=a}),98);