if (self.CavalryLogger) { CavalryLogger.start_js(["XUji72\/"]); }

__d("MWLSForwardMessage.re",["MWLSForwardMessage.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(){var a=b("MWLSForwardMessage.bs").useForwardAttachment();return function(c){c=b("bs_curry")._3(a,c.to_,c.copyAttachmentID,c.messageId==null?void 0:c.messageId);return c}};f.useForwardAttachment=a;c=b("MWLSForwardMessage.bs").targetIdString;f.targetIdString=c}),null);
__d("MWChatMediaViewerControls.react",["fbt","ix","CometRow.react","CometRowItem.react","CometTooltip.react","JSResourceForInteraction","MAWGating.re","MWChatMessageId.re","ODS","TetraCircleButton.react","cr:629","fbicon","gkx","react","useCometLazyDialog","useMWChatForward"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useState,m=c("JSResourceForInteraction")("MWChatMediaViewerAttachmentInfoDialog.react").__setRef("MWChatMediaViewerControls.react"),n={iconHovered:{backgroundColor:"m8invena"}},o=h._(/*FBT_CALL*/"Download"/*FBT_CALL*/);e=h._(/*FBT_CALL*/"Share to Facebook"/*FBT_CALL*/);var p=h._(/*FBT_CALL*/"Forward"/*FBT_CALL*/),q=h._(/*FBT_CALL*/"Info"/*FBT_CALL*/),r=function(){};function a(a){var e=a.attachmentID,f=a.canForward;f=f===void 0?!0:f;var g=a.downloadLink,h=a.messageID;a=l(function(){return!1});var s=a[0],t=a[1];a=l(function(){return!1});var u=a[0];u=a[1];a=l(function(){return!1});u=a[0];var v=a[1];a=c("MAWGating.re").isForwardEnabled()&&!c("gkx")("3118");var w=d("MWChatMessageId.re").getMessageId(h),x=b("cr:629").useForwardAttachment(),y=c("useMWChatForward")({isSecureForwardEnabled:a,messageID:h,onClose:r,onSend:function(a){x({copyAttachmentID:e,messageId:w,to_:a})}}),z=function(){d("ODS").bumpEntityKey(3185,"mwchat_media_viewer","forward"),y&&y.onClick()};a=c("useCometLazyDialog")(m);var A=a[0],B=k(function(){A({attachmentID:e,messageID:h})},[A,h,e]);return j.jsxs(c("CometRow.react"),{paddingTop:0,spacing:8,children:[g!=null?j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTooltip.react"),{align:"middle",tooltip:o,children:j.jsx(c("TetraCircleButton.react"),{color:"white",icon:s?d("fbicon")._(i("1433212"),20):d("fbicon")._(i("1441392"),20),label:o,linkProps:{download:!0,target:"_blank",url:g},onHoverIn:function(a){return t(function(){return!0})},onHoverOut:function(a){return t(function(){return!1})},overlayHoveredStyle:n.iconHovered,size:36,testid:void 0,type:"deemphasized"})})}):null,f===!0?j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTooltip.react"),{align:"middle",tooltip:p,children:j.jsx(c("TetraCircleButton.react"),{color:"white",icon:d("fbicon")._(i("1433236"),20),label:p,onPress:function(a){return z()},overlayHoveredStyle:n.iconHovered,size:36,testid:void 0,type:"deemphasized"})})}):null,null,c("gkx")("1463539")&&c("gkx")("1555108")?j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTooltip.react"),{align:"middle",tooltip:q,children:j.jsx(c("TetraCircleButton.react"),{color:"white",icon:u?d("fbicon")._(i("479177"),20):d("fbicon")._(i("479180"),20),label:q,onHoverIn:function(a){return v(function(){return!0})},onHoverOut:function(a){return v(function(){return!1})},onPress:function(a){return B()},overlayHoveredStyle:n.iconHovered,size:36,testid:void 0,type:"deemphasized"})})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);